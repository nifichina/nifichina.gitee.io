(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{437:function(t,e,r){"use strict";r.r(e);var v=r(25),a=Object(v.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"prometheusreportingtask"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prometheusreportingtask"}},[t._v("#")]),t._v(" PrometheusReportingTask")]),t._v(" "),r("hr"),t._v(" "),r("p",[t._v("编辑人(全网同名)："),r("strong",[r("strong",[t._v("酷酷的诚")])]),t._v("  邮箱："),r("strong",[t._v("zhangchengk@foxmail.com")])]),t._v(" "),r("hr"),t._v(" "),r("h2",{attrs:{id:"描述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#描述"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),r("p",[t._v("该任务处理器通过创建metrics(http)端点来报告Prometheus格式的指标数据，该端点可用于应用程序的外部监控。ReportingTask报告一组关于JVM(可选)和NiFi实例的指标数据。")]),t._v(" "),r("h2",{attrs:{id:"属性配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性配置"}},[t._v("#")]),t._v(" 属性配置")]),t._v(" "),r("p",[t._v("在下面的列表中，必需属性的名称以粗体显示。任何其他属性(不是粗体)都被认为是可选的，并且指出属性默认值（如果有默认值），以及属性是否支持表达式语言。(1.11.4版本)")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("属性名称")]),t._v(" "),r("th",[t._v("默认值")]),t._v(" "),r("th",[t._v("可选值")]),t._v(" "),r("th",[t._v("描述")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("Prometheus Metrics Endpoint Port")]),t._v(" "),r("td",[t._v("9092")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("端点的端口(Prometheus会到这个端口拉数据)"),r("br"),t._v("支持表达式语言:true")])]),t._v(" "),r("tr",[r("td",[t._v("Instance ID")]),t._v(" "),r("td",[t._v("${hostname(true)}")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("该NIFI实例被Prometheus采集数据的ID标识")])]),t._v(" "),r("tr",[r("td",[t._v("Metrics Reporting Strategy")]),t._v(" "),r("td",[t._v("All Components")]),t._v(" "),r("td",[t._v("Root Process Group"),r("br"),t._v("All Process Groups"),r("br"),t._v("All Components")]),t._v(" "),r("td",[t._v("报告metrics的粒度，只包含这三个选项")])]),t._v(" "),r("tr",[r("td",[t._v("Send JVM metrics")]),t._v(" "),r("td",[t._v("false")]),t._v(" "),r("td",[t._v("true"),r("br"),t._v("false")]),t._v(" "),r("td",[t._v("除了NiFi指标外，是否还要发送JVM指标")])]),t._v(" "),r("tr",[r("td",[t._v("SSL Context Service")]),t._v(" "),r("td"),t._v(" "),r("td",[t._v("Controller Service API:"),r("br"),t._v("RestrictedSSLContextService"),r("br"),t._v("Implementation: "),r("br"),t._v("StandardRestrictedSSLContextService")]),t._v(" "),r("td",[t._v("如果设置了，端点只会接收HTTPS请求，否则就是默认的HTTP请求")])]),t._v(" "),r("tr",[r("td",[t._v("Client Authentication")]),t._v(" "),r("td",[t._v("No Authentication")]),t._v(" "),r("td",[t._v("No Authentication"),r("br"),t._v("Want Authentication"),r("br"),t._v("Need Authentication")]),t._v(" "),r("td",[t._v("指定报告任务是否应该对客户端进行身份验证。如果未指定<SSL Context Service>属性，或者提供的SSL仅使用KeyStore而不使用TrustStore，则忽略此值。")])])])]),t._v(" "),r("h2",{attrs:{id:"状态管理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#状态管理"}},[t._v("#")]),t._v(" 状态管理")]),t._v(" "),r("p",[t._v("此组件不存储状态。")]),t._v(" "),r("h2",{attrs:{id:"限制"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#限制"}},[t._v("#")]),t._v(" 限制")]),t._v(" "),r("p",[t._v("无。")]),t._v(" "),r("h2",{attrs:{id:"系统资源方面的考虑"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#系统资源方面的考虑"}},[t._v("#")]),t._v(" 系统资源方面的考虑")]),t._v(" "),r("p",[t._v("无")]),t._v(" "),r("h2",{attrs:{id:"应用场景"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[t._v("#")]),t._v(" 应用场景")]),t._v(" "),r("p",[t._v("首先很高兴的是,NIFI在1.10版本中添加了普罗米修斯的监控,这个组件就是给普罗米修斯收集一些NIFI的指标数据(可选jvm的一些指标)，使用起来很简单。")]),t._v(" "),r("h2",{attrs:{id:"示例说明"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#示例说明"}},[t._v("#")]),t._v(" 示例说明")]),t._v(" "),r("p",[t._v("配置示例：")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://nifichina.gitee.io/image/reportingtask/PrometheusReportingTask/1.png",alt:""}})]),t._v(" "),r("p",[t._v("直接Get 9092/metrics/\n"),r("img",{attrs:{src:"https://nifichina.gitee.io/image/reportingtask/PrometheusReportingTask/2.png",alt:""}})]),t._v(" "),r("p",[t._v("在普罗米修斯中查看\n"),r("img",{attrs:{src:"https://nifichina.gitee.io/image/reportingtask/PrometheusReportingTask/3.png",alt:""}})]),t._v(" "),r("p",[r("img",{attrs:{src:"https://nifichina.gitee.io/image/reportingtask/PrometheusReportingTask/4.png",alt:""}})]),t._v(" "),r("h2",{attrs:{id:"公众号"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#公众号"}},[t._v("#")]),t._v(" 公众号")]),t._v(" "),r("p",[t._v("关注公众号 得到第一手文章/文档更新推送。")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://nifichina.gitee.io/image/donate/wechat.jpg",alt:""}})])])}),[],!1,null,null,null);e.default=a.exports}}]);