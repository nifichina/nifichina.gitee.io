(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{421:function(t,e,a){"use strict";a.r(e);var v=a(25),_=Object(v.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"replacetext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#replacetext"}},[t._v("#")]),t._v(" ReplaceText")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("编辑人(全网同名)："),a("strong",[a("strong",[t._v("酷酷的诚")])]),t._v("  邮箱："),a("strong",[t._v("zhangchengk@foxmail.com")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"描述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#描述"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),a("p",[t._v("使用其他值替换匹配正则表达式的流文件部分内容，从而更新流文件的内容。")]),t._v(" "),a("h2",{attrs:{id:"属性配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性配置"}},[t._v("#")]),t._v(" 属性配置")]),t._v(" "),a("p",[t._v("在下面的列表中，必需属性的名称以粗体显示。任何其他属性(不是粗体)都被认为是可选的，并且指出属性默认值（如果有默认值），以及属性是否支持表达式语言。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性名称")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("可选值")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("Search Value")])]),t._v(" "),a("td",[t._v("(?s)(^.*$)")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("正则表达式，仅用于“Literal Replace”和“Regex Replace”匹配策略  "),a("br"),t._v("支持表达式语言:true")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Replacement Value")])]),t._v(" "),a("td",[t._v("$1")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("使用“Replacement Strategy”策略时插入的值。  "),a("br"),t._v("支持表达式语言:true")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Character Set")])]),t._v(" "),a("td",[t._v("UTF-8")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("字符集")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Maximum Buffer Size")])]),t._v(" "),a("td",[t._v("1 MB")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("指定要缓冲的最大数据量(每个文件或每行，取决于计算模式)，以便应用替换。如果选择了“Entire Text”，并且流文件大于这个值，那么流文件将被路由到“failure”。在“Line-by-Line”模式下，如果一行文本比这个值大，那么FlowFile将被路由到“failure”。默认值为1 MB，主要用于“Entire Text”模式。在“Line-by-Line”模式中，建议使用8 KB或16 KB这样的值。如果将<"),a("strong",[t._v("Replacement Strategy")]),t._v(">属性设置为一下其中之一:Append、Prepend、Always Replace，则忽略该值")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Replacement Strategy")])]),t._v(" "),a("td",[t._v("Regex Replace")]),t._v(" "),a("td",[t._v("▪Prepend  "),a("br"),t._v(" ▪Append  "),a("br"),t._v(" ▪Regex Replace  "),a("br"),t._v(" ▪Literal Replace "),a("br"),t._v(" ▪Always Replace")]),t._v(" "),a("td",[t._v("在流文件的文本内容中如何替换以及替换什么内容的策略。")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("Evaluation Mode")])]),t._v(" "),a("td",[t._v("Entire text")]),t._v(" "),a("td",[t._v("▪ Line-by-Line "),a("br"),t._v(" ▪Entire text")]),t._v(" "),a("td",[t._v("对每一行单独进行“替换策略”(Line-by-Line)；或将整个文件缓冲到内存中(Entire text)，然后对其进行“替换策略”。")])])])]),t._v(" "),a("h2",{attrs:{id:"连接关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接关系"}},[t._v("#")]),t._v(" 连接关系")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("sucess")]),t._v(" "),a("td",[t._v("已成功处理的流文件被路由到此关系。这包括已替换文本和未替换文本的流文件。")])]),t._v(" "),a("tr",[a("td",[t._v("failure")]),t._v(" "),a("td",[t._v("无法更新的流文件被路由到此关系。")])])])]),t._v(" "),a("h2",{attrs:{id:"读取属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#读取属性"}},[t._v("#")]),t._v(" 读取属性")]),t._v(" "),a("p",[t._v("没有指定。")]),t._v(" "),a("h2",{attrs:{id:"写属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写属性"}},[t._v("#")]),t._v(" 写属性")]),t._v(" "),a("p",[t._v("没有指定。")]),t._v(" "),a("h2",{attrs:{id:"状态管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#状态管理"}},[t._v("#")]),t._v(" 状态管理")]),t._v(" "),a("p",[t._v("此组件不存储状态。")]),t._v(" "),a("h2",{attrs:{id:"限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#限制"}},[t._v("#")]),t._v(" 限制")]),t._v(" "),a("p",[t._v("此组件不受限制。")]),t._v(" "),a("h2",{attrs:{id:"输入要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输入要求"}},[t._v("#")]),t._v(" 输入要求")]),t._v(" "),a("p",[t._v("此组件需要传入关系。")]),t._v(" "),a("h2",{attrs:{id:"系统资源方面的考虑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统资源方面的考虑"}},[t._v("#")]),t._v(" 系统资源方面的考虑")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Resource")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("MEMORY")]),t._v(" "),a("td",[t._v("此组件的实例可能会导致系统资源的大量使用。多个实例或高并发性设置可能导致性能下降。")])])])]),t._v(" "),a("h2",{attrs:{id:"应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[t._v("#")]),t._v(" 应用场景")]),t._v(" "),a("p",[t._v("使用正则表达式，来逐行或者全文本替换文件流内容，往往用于业务逻辑处理。")]),t._v(" "),a("h2",{attrs:{id:"示例说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例说明"}},[t._v("#")]),t._v(" 示例说明")]),t._v(" "),a("p",[t._v("1：全文本替换，配置如下")]),t._v(" "),a("p",[t._v("(?s)(^.*$)匹配所有值，选择正则匹配替换，全文本替换")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://nifichina.gitee.io/image/processors/ReplaceText/config.png",alt:""}})]),t._v(" "),a("p",[t._v("流文件原内容：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://nifichina.gitee.io/image/processors/ReplaceText/input.png",alt:""}})]),t._v(" "),a("p",[t._v("替换后内容：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://nifichina.gitee.io/image/processors/ReplaceText/result.png",alt:""}})]),t._v(" "),a("p",[t._v("2：逐行替换：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://nifichina.gitee.io/image/processors/ReplaceText/config2.png",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://nifichina.gitee.io/image/processors/ReplaceText/result2.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"公众号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#公众号"}},[t._v("#")]),t._v(" 公众号")]),t._v(" "),a("p",[t._v("关注公众号 得到第一手文章/文档更新推送。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://nifichina.gitee.io/image/donate/wechat.jpg",alt:""}})])])}),[],!1,null,null,null);e.default=_.exports}}]);