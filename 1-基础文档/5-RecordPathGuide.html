<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.46">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo.png"><title>Apache NiFi RecordPath Guide | Apache NIFI中文文档</title><meta name="description" content="Apache NIFI中文文档">
    <link rel="modulepreload" href="/assets/app.9cec2d73.js"><link rel="modulepreload" href="/assets/5-RecordPathGuide.html.7f4f4d34.js"><link rel="modulepreload" href="/assets/5-RecordPathGuide.html.6a364f9e.js"><link rel="prefetch" href="/assets/index.html.b4fa7ed9.js"><link rel="prefetch" href="/assets/1-Overview.html.4d026c43.js"><link rel="prefetch" href="/assets/2-GettingStarted.html.ca8c3016.js"><link rel="prefetch" href="/assets/3-UserGuide.html.ce113ef6.js"><link rel="prefetch" href="/assets/4-ExpressionLanguageGuide.html.bc4618ad.js"><link rel="prefetch" href="/assets/6-AdminGuide.html.5a8c58c5.js"><link rel="prefetch" href="/assets/7-ToolkitGuide.html.a5aa14b2.js"><link rel="prefetch" href="/assets/ApacheNiFiInDepth.html.efff4fcf.js"><link rel="prefetch" href="/assets/AttributeRollingWindow.html.5dd5f362.js"><link rel="prefetch" href="/assets/AttributesToCSV.html.3796a768.js"><link rel="prefetch" href="/assets/AttributesToJSON.html.f57f3699.js"><link rel="prefetch" href="/assets/Base64EncodeContent.html.563314c3.js"><link rel="prefetch" href="/assets/CalculateRecordStats.html.c85b43a8.js"><link rel="prefetch" href="/assets/CaptureChangeMySQL.html.45f65bdb.js"><link rel="prefetch" href="/assets/CompareFuzzyHash.html.57ea153b.js"><link rel="prefetch" href="/assets/ConsumeWindowsEventLog.html.5efe7aa4.js"><link rel="prefetch" href="/assets/ControlRate.html.be65043d.js"><link rel="prefetch" href="/assets/ConvertCharacterSet.html.6738dbac.js"><link rel="prefetch" href="/assets/ConvertJSONToAvro.html.739b8a29.js"><link rel="prefetch" href="/assets/ConvertJSONToSQL.html.12930a33.js"><link rel="prefetch" href="/assets/CountText.html.63d544f2.js"><link rel="prefetch" href="/assets/CryptographicHashAttribute.html.40e51b4a.js"><link rel="prefetch" href="/assets/DetectDuplicate.html.2fb32e57.js"><link rel="prefetch" href="/assets/DistributeLoad.html.3fc640ac.js"><link rel="prefetch" href="/assets/EvaluateJsonPath.html.b3e85cde.js"><link rel="prefetch" href="/assets/ExecuteGroovyScript.html.fb3d11bd.js"><link rel="prefetch" href="/assets/ExecuteSQL.html.bacd278e.js"><link rel="prefetch" href="/assets/ExecuteSQLRecord.html.709e7418.js"><link rel="prefetch" href="/assets/ExecuteScript.html.5696e143.js"><link rel="prefetch" href="/assets/ExtractText.html.a673a4d7.js"><link rel="prefetch" href="/assets/FlattenJson.html.13a4d4b6.js"><link rel="prefetch" href="/assets/GenerateFlowFile.html.d35a5870.js"><link rel="prefetch" href="/assets/GenerateTableFetch.html.96fb5edd.js"><link rel="prefetch" href="/assets/HandleHttpRequest_HandleHttpResponse.html.6129315d.js"><link rel="prefetch" href="/assets/InvokeHTTP.html.60bf9588.js"><link rel="prefetch" href="/assets/JoltTransformJSON.html.4fc2bf63.js"><link rel="prefetch" href="/assets/JoltTransformRecord.html.f2c8210c.js"><link rel="prefetch" href="/assets/ListDatabaseTables.html.dc1dcb9d.js"><link rel="prefetch" href="/assets/ListFTP.html.fc550307.js"><link rel="prefetch" href="/assets/ListFile.html.3d5ecb8d.js"><link rel="prefetch" href="/assets/LogAttribute.html.f48eaf79.js"><link rel="prefetch" href="/assets/LogMessage.html.b83272f7.js"><link rel="prefetch" href="/assets/Notify.html.a6132704.js"><link rel="prefetch" href="/assets/PutDatabaseRecord.html.362c0b96.js"><link rel="prefetch" href="/assets/PutEmail.html.8526b566.js"><link rel="prefetch" href="/assets/PutHiveStreaming.html.3e10dcba.js"><link rel="prefetch" href="/assets/ReplaceText.html.500a581f.js"><link rel="prefetch" href="/assets/RouteOnAttribute.html.0ef121ac.js"><link rel="prefetch" href="/assets/RouteOnContent.html.69ef4629.js"><link rel="prefetch" href="/assets/SplitAvro.html.ed4fda92.js"><link rel="prefetch" href="/assets/SplitJson.html.8fdea525.js"><link rel="prefetch" href="/assets/TailFile.html.ab18761a.js"><link rel="prefetch" href="/assets/UpdateAttribute.html.738d6e9a.js"><link rel="prefetch" href="/assets/Wait.html.7a2cf9b0.js"><link rel="prefetch" href="/assets/AvroReader.html.2118fcf4.js"><link rel="prefetch" href="/assets/AvroRecordSetWriter.html.ca14d81a.js"><link rel="prefetch" href="/assets/AvroSchemaRegistry.html.3d2bbd5a.js"><link rel="prefetch" href="/assets/ConfluentSchemaRegistry.html.19ee965f.js"><link rel="prefetch" href="/assets/DBCPConnectionPool.html.f0a21b6d.js"><link rel="prefetch" href="/assets/DBCPConnectionPoolLookup.html.741171c6.js"><link rel="prefetch" href="/assets/HortonworksSchemaRegistry.html.e1ca8924.js"><link rel="prefetch" href="/assets/VolatileSchemaCache.html.5a1fd2d1.js"><link rel="prefetch" href="/assets/PrometheusReportingTask.html.a5f4e705.js"><link rel="prefetch" href="/assets/donate.html.d52896a2.js"><link rel="prefetch" href="/assets/newQuestions.html.d3ee5e68.js"><link rel="prefetch" href="/assets/qq.html.526dd58c.js"><link rel="prefetch" href="/assets/updateLog.html.09c807f6.js"><link rel="prefetch" href="/assets/wechat.html.ef5373a6.js"><link rel="prefetch" href="/assets/404.html.f166316b.js"><link rel="prefetch" href="/assets/index.html.51050eef.js"><link rel="prefetch" href="/assets/1-Overview.html.c0a7f0c6.js"><link rel="prefetch" href="/assets/2-GettingStarted.html.2d62e525.js"><link rel="prefetch" href="/assets/3-UserGuide.html.835caa89.js"><link rel="prefetch" href="/assets/4-ExpressionLanguageGuide.html.4d985d06.js"><link rel="prefetch" href="/assets/6-AdminGuide.html.67ce8e26.js"><link rel="prefetch" href="/assets/7-ToolkitGuide.html.e0eeb881.js"><link rel="prefetch" href="/assets/ApacheNiFiInDepth.html.758066b6.js"><link rel="prefetch" href="/assets/AttributeRollingWindow.html.9a16508e.js"><link rel="prefetch" href="/assets/AttributesToCSV.html.dd229261.js"><link rel="prefetch" href="/assets/AttributesToJSON.html.0724a308.js"><link rel="prefetch" href="/assets/Base64EncodeContent.html.63391bb7.js"><link rel="prefetch" href="/assets/CalculateRecordStats.html.1c0ad354.js"><link rel="prefetch" href="/assets/CaptureChangeMySQL.html.2e323153.js"><link rel="prefetch" href="/assets/CompareFuzzyHash.html.9bee0179.js"><link rel="prefetch" href="/assets/ConsumeWindowsEventLog.html.a4fc3744.js"><link rel="prefetch" href="/assets/ControlRate.html.967e9b04.js"><link rel="prefetch" href="/assets/ConvertCharacterSet.html.40c1a64a.js"><link rel="prefetch" href="/assets/ConvertJSONToAvro.html.f42a3640.js"><link rel="prefetch" href="/assets/ConvertJSONToSQL.html.dbd8c328.js"><link rel="prefetch" href="/assets/CountText.html.af101426.js"><link rel="prefetch" href="/assets/CryptographicHashAttribute.html.7f211d2e.js"><link rel="prefetch" href="/assets/DetectDuplicate.html.4863a80b.js"><link rel="prefetch" href="/assets/DistributeLoad.html.be132046.js"><link rel="prefetch" href="/assets/EvaluateJsonPath.html.eb4d7ec9.js"><link rel="prefetch" href="/assets/ExecuteGroovyScript.html.5cb72d00.js"><link rel="prefetch" href="/assets/ExecuteSQL.html.dfe5a72b.js"><link rel="prefetch" href="/assets/ExecuteSQLRecord.html.7f246c9b.js"><link rel="prefetch" href="/assets/ExecuteScript.html.971e3485.js"><link rel="prefetch" href="/assets/ExtractText.html.8f07d3bb.js"><link rel="prefetch" href="/assets/FlattenJson.html.68fc9581.js"><link rel="prefetch" href="/assets/GenerateFlowFile.html.492d4aeb.js"><link rel="prefetch" href="/assets/GenerateTableFetch.html.126128f6.js"><link rel="prefetch" href="/assets/HandleHttpRequest_HandleHttpResponse.html.95eb9d67.js"><link rel="prefetch" href="/assets/InvokeHTTP.html.70ebbb26.js"><link rel="prefetch" href="/assets/JoltTransformJSON.html.3f4b9238.js"><link rel="prefetch" href="/assets/JoltTransformRecord.html.807769be.js"><link rel="prefetch" href="/assets/ListDatabaseTables.html.e55ea9ba.js"><link rel="prefetch" href="/assets/ListFTP.html.20e133bf.js"><link rel="prefetch" href="/assets/ListFile.html.bb2cd489.js"><link rel="prefetch" href="/assets/LogAttribute.html.6bfbf150.js"><link rel="prefetch" href="/assets/LogMessage.html.85999612.js"><link rel="prefetch" href="/assets/Notify.html.f42c5914.js"><link rel="prefetch" href="/assets/PutDatabaseRecord.html.99d75646.js"><link rel="prefetch" href="/assets/PutEmail.html.62a395a8.js"><link rel="prefetch" href="/assets/PutHiveStreaming.html.8170459d.js"><link rel="prefetch" href="/assets/ReplaceText.html.2c76fbd8.js"><link rel="prefetch" href="/assets/RouteOnAttribute.html.5b0db410.js"><link rel="prefetch" href="/assets/RouteOnContent.html.bb4ab298.js"><link rel="prefetch" href="/assets/SplitAvro.html.c1cf90e8.js"><link rel="prefetch" href="/assets/SplitJson.html.79e62dcc.js"><link rel="prefetch" href="/assets/TailFile.html.474b96d0.js"><link rel="prefetch" href="/assets/UpdateAttribute.html.752ebe5d.js"><link rel="prefetch" href="/assets/Wait.html.0fb2a6e0.js"><link rel="prefetch" href="/assets/AvroReader.html.377a591c.js"><link rel="prefetch" href="/assets/AvroRecordSetWriter.html.9ccb948b.js"><link rel="prefetch" href="/assets/AvroSchemaRegistry.html.a28bf882.js"><link rel="prefetch" href="/assets/ConfluentSchemaRegistry.html.7470ca83.js"><link rel="prefetch" href="/assets/DBCPConnectionPool.html.b74e1209.js"><link rel="prefetch" href="/assets/DBCPConnectionPoolLookup.html.5caa8912.js"><link rel="prefetch" href="/assets/HortonworksSchemaRegistry.html.b5227f8a.js"><link rel="prefetch" href="/assets/VolatileSchemaCache.html.51076336.js"><link rel="prefetch" href="/assets/PrometheusReportingTask.html.846dbda2.js"><link rel="prefetch" href="/assets/donate.html.02863e00.js"><link rel="prefetch" href="/assets/newQuestions.html.17967f99.js"><link rel="prefetch" href="/assets/qq.html.c908fc09.js"><link rel="prefetch" href="/assets/updateLog.html.72512465.js"><link rel="prefetch" href="/assets/wechat.html.ff0ad561.js"><link rel="prefetch" href="/assets/404.html.23367849.js"><link rel="prefetch" href="/assets/404.610152db.js"><link rel="prefetch" href="/assets/Layout.8d03de3c.js"><link rel="prefetch" href="/assets/index.0e8935cb.js">
    <link rel="stylesheet" href="/assets/style.dac6b198.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Apache NIFI中文文档</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">1-基础文档 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/1-Overview.html" class="sidebar-item" aria-label="概览(Apache NiFi Overview)"><!--[--><!--]--> 概览(Apache NiFi Overview) <!--[--><!--]--></a><!----></li><li><a href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/2-GettingStarted.html" class="sidebar-item" aria-label="入门(Getting Started with Apache NiFi)"><!--[--><!--]--> 入门(Getting Started with Apache NiFi) <!--[--><!--]--></a><!----></li><li><a href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/3-UserGuide.html" class="sidebar-item" aria-label="用户指南(Apache NiFi User Guide)"><!--[--><!--]--> 用户指南(Apache NiFi User Guide) <!--[--><!--]--></a><!----></li><li><a href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/4-ExpressionLanguageGuide.html" class="sidebar-item" aria-label="表达式语言指南(Expression Language Guide)"><!--[--><!--]--> 表达式语言指南(Expression Language Guide) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Apache NiFi RecordPath Guide"><!--[--><!--]--> Apache NiFi RecordPath Guide <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#overview" class="router-link-active router-link-exact-active sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#structure-of-a-recordpath" class="router-link-active router-link-exact-active sidebar-item" aria-label="Structure of a RecordPath"><!--[--><!--]--> Structure of a RecordPath <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#child-operator" class="router-link-active router-link-exact-active sidebar-item" aria-label="Child Operator"><!--[--><!--]--> Child Operator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#descendant-operator" class="router-link-active router-link-exact-active sidebar-item" aria-label="Descendant Operator"><!--[--><!--]--> Descendant Operator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#filters" class="router-link-active router-link-exact-active sidebar-item" aria-label="Filters"><!--[--><!--]--> Filters <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#function-usage" class="router-link-active router-link-exact-active sidebar-item" aria-label="Function Usage"><!--[--><!--]--> Function Usage <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#maps" class="router-link-active router-link-exact-active sidebar-item" aria-label="Maps"><!--[--><!--]--> Maps <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#predicates" class="router-link-active router-link-exact-active sidebar-item" aria-label="Predicates"><!--[--><!--]--> Predicates <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#functions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Functions"><!--[--><!--]--> Functions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#standalone-functions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Standalone Functions"><!--[--><!--]--> Standalone Functions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/5-RecordPathGuide.html#filter-functions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Filter Functions"><!--[--><!--]--> Filter Functions <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/6-AdminGuide.html" class="sidebar-item" aria-label="系统管理员指南(1.15.3)"><!--[--><!--]--> 系统管理员指南(1.15.3) <!--[--><!--]--></a><!----></li><li><a href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/7-ToolkitGuide.html" class="sidebar-item" aria-label="Apache NiFi Toolkit Guide"><!--[--><!--]--> Apache NiFi Toolkit Guide <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">2-开发文档 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/2-%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/ApacheNiFiInDepth.html" class="sidebar-item" aria-label="Apache NiFi In Depth"><!--[--><!--]--> Apache NiFi In Depth <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">3-Processors <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/3-Processors/AttributeRollingWindow.html" class="sidebar-item" aria-label="AttributeRollingWindow"><!--[--><!--]--> AttributeRollingWindow <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/AttributesToCSV.html" class="sidebar-item" aria-label="AttributesToCSV"><!--[--><!--]--> AttributesToCSV <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/AttributesToJSON.html" class="sidebar-item" aria-label="AttributesToJSON"><!--[--><!--]--> AttributesToJSON <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/Base64EncodeContent.html" class="sidebar-item" aria-label="Base64EncodeContent"><!--[--><!--]--> Base64EncodeContent <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/CalculateRecordStats.html" class="sidebar-item" aria-label="CalculateRecordStats"><!--[--><!--]--> CalculateRecordStats <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/CaptureChangeMySQL.html" class="sidebar-item" aria-label="CaptureChangeMySQL"><!--[--><!--]--> CaptureChangeMySQL <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/CompareFuzzyHash.html" class="sidebar-item" aria-label="CompareFuzzyHash"><!--[--><!--]--> CompareFuzzyHash <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ConsumeWindowsEventLog.html" class="sidebar-item" aria-label="ConsumeWindowsEventLog"><!--[--><!--]--> ConsumeWindowsEventLog <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ControlRate.html" class="sidebar-item" aria-label="ControlRate"><!--[--><!--]--> ControlRate <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ConvertCharacterSet.html" class="sidebar-item" aria-label="ConvertCharacterSet"><!--[--><!--]--> ConvertCharacterSet <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ConvertJSONToAvro.html" class="sidebar-item" aria-label="ConvertJSONToAvro"><!--[--><!--]--> ConvertJSONToAvro <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ConvertJSONToSQL.html" class="sidebar-item" aria-label="ConvertJSONToSQL"><!--[--><!--]--> ConvertJSONToSQL <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/CountText.html" class="sidebar-item" aria-label="CountText"><!--[--><!--]--> CountText <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/CryptographicHashAttribute.html" class="sidebar-item" aria-label="CryptographicHashAttribute"><!--[--><!--]--> CryptographicHashAttribute <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/DetectDuplicate.html" class="sidebar-item" aria-label="DetectDuplicate"><!--[--><!--]--> DetectDuplicate <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/DistributeLoad.html" class="sidebar-item" aria-label="DistributeLoad"><!--[--><!--]--> DistributeLoad <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/EvaluateJsonPath.html" class="sidebar-item" aria-label="EvaluateJsonPath"><!--[--><!--]--> EvaluateJsonPath <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ExecuteGroovyScript.html" class="sidebar-item" aria-label="ExecuteGroovyScript"><!--[--><!--]--> ExecuteGroovyScript <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ExecuteSQL.html" class="sidebar-item" aria-label="ExecuteSQL"><!--[--><!--]--> ExecuteSQL <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ExecuteSQLRecord.html" class="sidebar-item" aria-label="ExecuteSQLRecord"><!--[--><!--]--> ExecuteSQLRecord <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ExecuteScript.html" class="sidebar-item" aria-label="ExecuteScript"><!--[--><!--]--> ExecuteScript <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ExtractText.html" class="sidebar-item" aria-label="ExtractText"><!--[--><!--]--> ExtractText <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/FlattenJson.html" class="sidebar-item" aria-label="FlattenJson"><!--[--><!--]--> FlattenJson <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/GenerateFlowFile.html" class="sidebar-item" aria-label="GenerateFlowFile"><!--[--><!--]--> GenerateFlowFile <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/GenerateTableFetch.html" class="sidebar-item" aria-label="GenerateTableFetch"><!--[--><!--]--> GenerateTableFetch <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/HandleHttpRequest_HandleHttpResponse.html" class="sidebar-item" aria-label="HandleHttpRequest_HandleHttpResponse"><!--[--><!--]--> HandleHttpRequest_HandleHttpResponse <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/InvokeHTTP.html" class="sidebar-item" aria-label="InvokeHTTP"><!--[--><!--]--> InvokeHTTP <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/JoltTransformJSON.html" class="sidebar-item" aria-label="JoltTransformJSON"><!--[--><!--]--> JoltTransformJSON <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/JoltTransformRecord.html" class="sidebar-item" aria-label="JoltTransformRecord"><!--[--><!--]--> JoltTransformRecord <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ListDatabaseTables.html" class="sidebar-item" aria-label="ListDatabaseTables"><!--[--><!--]--> ListDatabaseTables <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ListFTP.html" class="sidebar-item" aria-label="ListFTP"><!--[--><!--]--> ListFTP <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ListFile.html" class="sidebar-item" aria-label="ListFile"><!--[--><!--]--> ListFile <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/LogAttribute.html" class="sidebar-item" aria-label="LogAttribute"><!--[--><!--]--> LogAttribute <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/LogMessage.html" class="sidebar-item" aria-label="LogMessage"><!--[--><!--]--> LogMessage <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/Notify.html" class="sidebar-item" aria-label="Notify"><!--[--><!--]--> Notify <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/PutDatabaseRecord.html" class="sidebar-item" aria-label="PutDatabaseRecord"><!--[--><!--]--> PutDatabaseRecord <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/PutEmail.html" class="sidebar-item" aria-label="PutEmail"><!--[--><!--]--> PutEmail <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/PutHiveStreaming.html" class="sidebar-item" aria-label="PutHiveStreaming"><!--[--><!--]--> PutHiveStreaming <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/ReplaceText.html" class="sidebar-item" aria-label="ReplaceText"><!--[--><!--]--> ReplaceText <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/RouteOnAttribute.html" class="sidebar-item" aria-label="RouteOnAttribute"><!--[--><!--]--> RouteOnAttribute <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/RouteOnContent.html" class="sidebar-item" aria-label="RouteOnContent"><!--[--><!--]--> RouteOnContent <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/SplitAvro.html" class="sidebar-item" aria-label="SplitAvro"><!--[--><!--]--> SplitAvro <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/SplitJson.html" class="sidebar-item" aria-label="SplitJson"><!--[--><!--]--> SplitJson <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/TailFile.html" class="sidebar-item" aria-label="TailFile"><!--[--><!--]--> TailFile <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/UpdateAttribute.html" class="sidebar-item" aria-label="UpdateAttribute"><!--[--><!--]--> UpdateAttribute <!--[--><!--]--></a><!----></li><li><a href="/3-Processors/Wait.html" class="sidebar-item" aria-label="Wait"><!--[--><!--]--> Wait <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">4-ControllerService <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/4-ControllerService/AvroReader.html" class="sidebar-item" aria-label="AvroReader"><!--[--><!--]--> AvroReader <!--[--><!--]--></a><!----></li><li><a href="/4-ControllerService/AvroRecordSetWriter.html" class="sidebar-item" aria-label="AvroRecordSetWriter"><!--[--><!--]--> AvroRecordSetWriter <!--[--><!--]--></a><!----></li><li><a href="/4-ControllerService/AvroSchemaRegistry.html" class="sidebar-item" aria-label="AvroSchemaRegistry"><!--[--><!--]--> AvroSchemaRegistry <!--[--><!--]--></a><!----></li><li><a href="/4-ControllerService/ConfluentSchemaRegistry.html" class="sidebar-item" aria-label="ConfluentSchemaRegistry"><!--[--><!--]--> ConfluentSchemaRegistry <!--[--><!--]--></a><!----></li><li><a href="/4-ControllerService/DBCPConnectionPool.html" class="sidebar-item" aria-label="DBCPConnectionPool"><!--[--><!--]--> DBCPConnectionPool <!--[--><!--]--></a><!----></li><li><a href="/4-ControllerService/DBCPConnectionPoolLookup.html" class="sidebar-item" aria-label="DBCPConnectionPoolLookup"><!--[--><!--]--> DBCPConnectionPoolLookup <!--[--><!--]--></a><!----></li><li><a href="/4-ControllerService/HortonworksSchemaRegistry.html" class="sidebar-item" aria-label="HortonworksSchemaRegistry"><!--[--><!--]--> HortonworksSchemaRegistry <!--[--><!--]--></a><!----></li><li><a href="/4-ControllerService/VolatileSchemaCache.html" class="sidebar-item" aria-label="VolatileSchemaCache"><!--[--><!--]--> VolatileSchemaCache <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">5-ReportingTask <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/5-ReportingTask/PrometheusReportingTask.html" class="sidebar-item" aria-label="PrometheusReportingTask"><!--[--><!--]--> PrometheusReportingTask <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="apache-nifi-recordpath-guide" tabindex="-1"><a class="header-anchor" href="#apache-nifi-recordpath-guide" aria-hidden="true">#</a> Apache NiFi RecordPath Guide</h1><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h2><p>Apache NiFi提供了一组非常强大的处理器，能够提取，处理，路由，转换和传递任何格式的数据。这是因为NiFi框架本身与数据无关。不管您的数据是100字节JSON消息还是100 GB的视频。这是一个非常强大的功能。除此之外还有有许多模式已迅速发展为处理不同类型的数据。</p><p>NiFi经常处理的一类数据是面向record的数据。当我们说面向record的数据时，我们经常（但并非总是）谈论诸如JSON，CSV和Avro之类的结构化数据。但是，还有许多其他类型的数据也可以表示为“records”或“messages”。NIFI提供了一组Controller Services，用于解析这些不同的数据格式并使用RecordReader API以一致的方式表示数据。只要有一个RecordReader能够产生代表该数据的Record对象，就可以将以任何数据格式写入的数据视为相同。</p><p>当我们谈论record时，这是一种抽象，它使我们能够以相同的方式处理数据，而不管其采用的格式。record由一个或多个字段组成。每个字段都有一个名称和与之关联的类型。使用record schema描述record的字段。schema指示哪些字段构成特定类型的record。字段的类型将是以下之一：</p><ol><li><p>String</p></li><li><p>Boolean</p></li><li><p>Byte</p></li><li><p>Character</p></li><li><p>Short</p></li><li><p>Integer</p></li><li><p>Long</p></li><li><p>BigInt</p></li><li><p>Float</p></li><li><p>Double</p></li><li><p>Date - 表示没有Time部分的日期</p></li><li><p>Time - 表示不包含Date部分的一天中的时间</p></li><li><p>Timestamp - Represents a Date and Time</p></li><li><p>Embedded Record - 可以通过允许字段本身为Type Record来表示诸如JSON之类的分层数据。</p></li><li><p>Choice - 字段可以是几种类型中的任何一种。</p></li><li><p>Array - 数组的所有元素都具有相同的类型。</p></li><li><p>Map - 所有映射键的类型均为字符串。值是同一类型。</p></li></ol><p>将数据流转换为Records后，RecordWriter API允许我们将这些Records序列化回字节流，以便可以将它们传递到其他系统上。</p><p>当然，如果我们不打算对两者之间的数据做任何事情，那么读取和写入这些数据就没有多大意义。NiFi提供了多种处理器，它们提供了一些非常强大的功能，用于路由，查询和转换面向record的数据。通常，为了执行所需的功能，处理器将需要来自用户的输入，以便确定应对record中的哪些字段或对record中的哪些值进行操作。</p><p>输入NiFi RecordPath语言。 RecordPath旨在成为一种简单易用的领域特定语言（DSL），用于指定在配置处理器时我们关心或希望访问的record中的哪些字段。</p><h2 id="structure-of-a-recordpath" tabindex="-1"><a class="header-anchor" href="#structure-of-a-recordpath" aria-hidden="true">#</a> Structure of a RecordPath</h2><p>NiFi中的record由（可能）许多字段组成，并且这些字段中的每个字段实际上都可以是record。这意味着可以将record视为具有层次结构或嵌套结构。我们将“inner Record”称为“outer Record”的子代。因此，内部Record的子级是最外部record的后代。同样，我们可以将外部record称为内部record的祖先。</p><h2 id="child-operator" tabindex="-1"><a class="header-anchor" href="#child-operator" aria-hidden="true">#</a> Child Operator</h2><p>RecordPath语言的结构使我们能够轻松引用最外层Record的字段，子Record或后代Record的字段。为此，我们用斜杠字符（/）分隔子代的名称，我们将其称为子运算符。例如，假设我们有一个包含两个字段的record：name,details。此外，假设详细信息是一个字段，该字段本身就是一个Record，并且具有两个字段：identifier,address。此外，让我们考虑一下地址本身就是一个包含5个字段的record：number, street, city, state, zip。为了说明目的，此处以JSON编写的示例可能如下所示：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
		<span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5th Avenue&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10020&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们可以使用RecordPath来引用zip字段：<code>/details/address/zip</code>。这告诉我们我们要使用“root”record的详细信息字段。然后，我们要引用子record的address字段和该record的zip字段。</p><h2 id="descendant-operator" tabindex="-1"><a class="header-anchor" href="#descendant-operator" aria-hidden="true">#</a> Descendant Operator</h2><p>除了提供到达zip字段的显式路径之外，有时在不知道完整路径的情况下引用zip字段有时可能很有用。在这种情况下，我们可以使用后代运算符（//）代替子运算符（/）。要获得与上述相同的zip字段，我们只需使用路径<code>//zip</code>即可完成此操作。</p><p>但是，子运算符和后代运算符之间有一个非常重要的区别：后代运算符可以匹配许多字段，而子运算符最多可以匹配一个字段。为了帮助理解这一点，请考虑以下record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;workAddress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5th Avenue&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10020&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;homeAddress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;456&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;116th Avenue&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11697&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，如果我们使用RecordPath <code>/workAddress/zip</code>，我们将引用值为“10020”的zip字段。 RecordPath <code>/homeAddress/zip</code>将引用值为“11697”的zip字段。但是，RecordPath <code>//zip</code>将引用这两个字段。</p><h2 id="filters" tabindex="-1"><a class="header-anchor" href="#filters" aria-hidden="true">#</a> Filters</h2><p>通过以上示例和说明，我们可以轻松引用Record中的特定字段。但是，在实际情况下，数据很少像上面的示例那样简单。通常，我们需要过滤掉或优化我们要引用的字段。当我们引用一个Array字段并且只想引用该数组中的某些元素时，可能需要这样做。当我们引用Map字段并希望引用Map中的一个或几个特定条目时；或者仅在符合某些条件的情况下我们才想引用record。我们可以通过在方括号内为RecordPath提供条件（使用<code>[,]</code>字符）来完成此操作。我们将在下面介绍每种情况。</p><h2 id="function-usage" tabindex="-1"><a class="header-anchor" href="#function-usage" aria-hidden="true">#</a> Function Usage</h2><p>如上文“Filters”部分所述，除了从record中检索字段外，有时我们还需要优化我们要选择的字段。或者，我们可能想返回字段的修改后版本。为此，我们依靠功能。函数的语法为<code>&lt;function name&gt; &lt;open parenthesis&gt; &lt;args&gt; &lt;close parenthesis&gt;</code>，其中<code>&lt;args&gt;</code>表示一个或多个用逗号分隔的参数。参数可以是字符串文字（如“hello”）或数字文字（如48），也可以是相对或绝对的RecordPath（如./name或/id）。另外，我们可以在过滤器中使用函数。例如，我们可以使用诸如<code>/person[isEmpty(&#39;name&#39;)]/id</code>之类的RecordPath来检索名称为空的任何人的id字段。可用功能列表及其相应文档可在下面的“Functions”部分中找到。</p><h3 id="arrays" tabindex="-1"><a class="header-anchor" href="#arrays" aria-hidden="true">#</a> Arrays</h3><p>当我们引用数组字段时，该字段的值可能是一个包含多个元素的数组，但我们可能只需要其中的几个元素。例如，我们可能只想引用第一个元素；只引用最后一个元素；或者可能引用第一个、第二个、第三个和最后一个元素。我们可以简单地使用方括号内元素的索引来引用特定元素（索引是从0开始的）。因此，让我们考虑一下上述record的修改版本：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token property">&quot;work&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5th Avenue&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10020&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;home&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;456&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;116th Avenue&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11697&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们现在可以使用RecordPath <code>/addresses[0]</code>引用addresses数组中的第一个元素。我们可以使用RecordPath <code>/addresses[1]</code>访问第二个元素。不过，有时我们不知道数组中会有多少个元素。所以我们可以使用负索引从数组的末尾倒数。例如，我们可以将最后一个元素作为<code>/addresses[-1]</code>访问，也可以将倒数第二个元素作为<code>/addresses[-2]</code>访问。如果要引用多个元素，可以使用逗号分隔的元素列表，例如<code>/addresses[0，1，2，3]</code>。或者，要访问元素0到8，我们可以使用范围运算符（<code>..</code>），如<code>/addresses[0..8]</code>。我们还可以混合使用这些元素，并使用语法<code>/addresses[0..-1]</code>或甚至<code>/addresses[0，1，4，6..-1]</code>引用所有元素。当然，并不是这里引用的所有索引都与上面的record匹配，因为addresses数组只有2个元素。不匹配的索引将被跳过。</p><h2 id="maps" tabindex="-1"><a class="header-anchor" href="#maps" aria-hidden="true">#</a> Maps</h2><p>与数组字段类似，映射字段实际上可能由几个不同的值组成。RecordPath使我们能够根据键选择一组值。我们通过在方括号内使用带引号的字符串来实现这一点。作为一个例子，让我们从上面重新访问我们的原始record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
		<span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5th Avenue&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10020&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，让我们假设与这个Record相关联的Schema指示address字段不是Record而是Map。在这种情况下，如果我们试图使用RecordPath<code>/details/address/zip</code>引用zip，那么RecordPath将不匹配，因为address字段不是record，因此没有任何名为zip的子record。相反，它是一个Map，具有String类型的键和值。不幸的是，当查看JSON时，这可能看起来有点混乱，因为JSON没有真正的类型系统。但是，当我们将JSON转换为Record对象以便对数据进行操作时，这种区别可能很重要。</p><p>在上述情况下，我们仍然可以使用RecordPath访问zip字段。现在我们必须使用稍微不同的语法：<code>/details/address[&#39;zip&#39;]</code>。这告诉RecordPath我们要访问最高级别的details字段。然后我们要访问它的address字段。因为address字段是一个Map，所以我们可以使用方括号来表示要指定一个映射键，然后用引号指定键。</p><p>此外，我们可以使用逗号分隔的列表选择多个映射键：<code>/details/address[&#39;city&#39;，&#39;state&#39;，&#39;zip&#39;]</code>。如果需要，我们还可以使用通配符(*)：<code>/details/address[*]</code>选择所有字段。映射字段不包含任何排序，因此无法通过数字索引引用键。</p><h2 id="predicates" tabindex="-1"><a class="header-anchor" href="#predicates" aria-hidden="true">#</a> Predicates</h2><p>到目前为止，我们已经讨论了两种不同类型的过滤器。每种方法都允许我们从允许多个值的字段中选择一个或多个元素。但是，通常我们需要应用一个过滤器，允许我们限制选择哪些record字段。例如，如果我们想选择zip字段，但只为值不是纽约的address字段选择呢？上面的例子并没有给我们提供任何方法来做到这一点。</p><p>RecordPath为用户提供了指定谓词的能力。谓词只是一个过滤器，它可以应用于一个字段，以确定该字段是否应包含在结果中。与其他过滤器一样，谓词在方括号内指定。谓词的语法是<code>&lt;Relative RecordPath&gt;&lt;Operator&gt;&lt;Expression&gt;</code>。<code>Relative RecordPath</code>的工作方式与其他RecordPath相同，但必须以<code>.</code>（参考当前字段）或<code>..</code>(引用当前字段的父字段）开头而不是斜杠，并引用与谓词应用的字段相关的字段。操作必须是以下之一：</p><ol><li><p>Equals (<code>=</code>)</p></li><li><p>Not Equal (<code>!=</code>)</p></li><li><p>Greater Than (<code>&gt;</code>)</p></li><li><p>Greater Than or Equal To (<code>&gt;=</code>)</p></li><li><p>Less Than (<code>&lt;</code>)</p></li><li><p>Less Than or Equal To (<code>&lt;=</code>)</p></li></ol><p>表达式可以是文字值，例如50或Hello，也可以是另一个RecordPath。为了说明这一点，让我们以下面的record为例：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;workAddress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5th Avenue&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10020&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;homeAddress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;456&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Grand St&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Jersey City&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NJ&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;07304&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dataflow Engineer&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;preferredState&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在我们可以使用谓词来仅选择state不是New York的字段。 例如，我们可以使用<code>/*[./state！=&#39;NY&#39;]</code>. 如果state不具有“NY”值，则它将选择任何具有state字段的record字段。请注意，将不返回详细details Record，因为它没有名为state的字段。因此，在此示例中，RecordPath将仅选择homeAddress字段。一旦选择了该字段，就可以继续我们的RecordPath。如上所述，我们可以选择zip字段：<code>/*[./state！=&#39;NY&#39;]/zip</code>。此RecordPath将导致仅从homeAddress字段中选择zip字段。</p><p>我们还可以将一个字段中的值与另一字段中的值进行比较。例如，我们可以使用RecordPath <code>/*[./state = /details/preferredState]</code>选择处于该人的首选状态的地址。在此示例中，此RecordPath将检索workAddress字段，因为其状态字段与preferredState字段的值匹配。</p><p>另外，我们可以通过使用父运算符（..）：<code>/*/city[../state =&#39;NJ&#39;]</code>来写一个RecordPath来引用状态为“NJ”的任何record的“city”字段。</p><h2 id="functions" tabindex="-1"><a class="header-anchor" href="#functions" aria-hidden="true">#</a> Functions</h2><p>在上面的“Function Usage”部分，我们描述了如何以及为什么在RecordPath中使用函数。在这里，我们将描述可用的不同功能，它们的功能以及它们的工作方式。函数可以分为两类：<code>Standalone Functions</code>(可以是RecordPath的“root”，例如<code>substringAfter(/name,&#39;&#39;)</code>)和<code>Filter Functions</code>(它们可以用作过滤器，例如<code>/name[ contains(&#39;John&#39;)]</code>。<code>Standalone Functions</code>也可以在过滤器中使用，但不返回布尔值（true或false），因此本身不能是整个过滤器。例如，我们可以使用诸如<code>/name[ substringAfter(., &#39; &#39;) = &#39;Doe&#39;]</code>之类的路径，但是我们不能简单地使用<code>/name[ substringAfter(., &#39; &#39;) ]</code>，因为这样做实际上没有任何意义，因为过滤器必须为布尔值。</p><p>除非另有说明，否则下面的所有示例均将根据以下record进行操作：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;workAddress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5th Avenue&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10020&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;homeAddress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;456&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Grand St&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Jersey City&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NJ&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;07304&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dataflow Engineer&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;preferredState&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NY&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;employer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;vehicle&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
		<span class="token property">&quot;phrase&quot;</span><span class="token operator">:</span> <span class="token string">&quot;   &quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="standalone-functions" tabindex="-1"><a class="header-anchor" href="#standalone-functions" aria-hidden="true">#</a> Standalone Functions</h2><h3 id="substring" tabindex="-1"><a class="header-anchor" href="#substring" aria-hidden="true">#</a> substring</h3><p>substring函数返回String值的一部分。该函数需要3个参数：值的一部分，从0开始的索引（包括），从0开始的结束索引（不包括）。起始索引和结束索引可以为0以指示字符串的第一个字符，可以为正整数以指示字符串的第n个索引，也可以为负整数。如果该值为负整数，例如-n，则表示结尾的第n个字符。值-1表示字符串中的最后一个字符。因此，例如，<code>substring( &#39;hello world&#39;, 0, -1 )</code>表示采用字符串hello，并从最后一个字符返回字符0，因此返回值将为hello world。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>substring( /name, 0, -1 )</code></td><td>John Doe</td></tr><tr><td><code>substring( /name, 0, -5 )</code></td><td>John</td></tr><tr><td><code>substring( /name, 1000, 1005 )</code></td><td><code>&lt;empty string&gt;</code></td></tr><tr><td><code>substring( /name, 0, 1005)</code></td><td>John Doe</td></tr><tr><td><code>substring( /name, -50, -1)</code></td><td><code>&lt;empty string&gt;</code></td></tr></tbody></table><h3 id="substringafter" tabindex="-1"><a class="header-anchor" href="#substringafter" aria-hidden="true">#</a> substringAfter</h3><p>返回String值的一部分，该值出现在其他值的第一次出现之后。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>substringAfter( /name, &#39; &#39; )</code></td><td>Doe</td></tr><tr><td><code>substringAfter( /name, &#39;o&#39; )</code></td><td>hn Doe</td></tr><tr><td><code>substringAfter( /name, &#39;&#39; )</code></td><td>John Doe</td></tr><tr><td><code>substringAfter( /name, &#39;xyz&#39; )</code></td><td>John Doe</td></tr></tbody></table><h3 id="substringafterlast" tabindex="-1"><a class="header-anchor" href="#substringafterlast" aria-hidden="true">#</a> substringAfterLast</h3><p>返回在其他值的最后一次出现之后出现的String值的一部分。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>substringAfterLast( /name, &#39; &#39; )</code></td><td>Doe</td></tr><tr><td><code>substringAfterLast( /name, &#39;o&#39; )</code></td><td>e</td></tr><tr><td><code>substringAfterLast( /name, &#39;&#39; )</code></td><td>John Doe</td></tr><tr><td><code>substringAfterLast( /name, &#39;xyz&#39; )</code></td><td>John Doe</td></tr></tbody></table><h3 id="substringbefore" tabindex="-1"><a class="header-anchor" href="#substringbefore" aria-hidden="true">#</a> substringBefore</h3><p>返回String值的出现在其他值的第一次出现之前的部分。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>substringBefore( /name, &#39; &#39; )</code></td><td>John</td></tr><tr><td><code>substringBefore( /name, &#39;o&#39; )</code></td><td>J</td></tr><tr><td><code>substringBefore( /name, &#39;&#39; )</code></td><td>John Doe</td></tr><tr><td><code>substringBefore( /name, &#39;xyz&#39; )</code></td><td>John Doe</td></tr></tbody></table><h3 id="substringbeforelast" tabindex="-1"><a class="header-anchor" href="#substringbeforelast" aria-hidden="true">#</a> substringBeforeLast</h3><p>返回在其他值的最后一次出现之前出现的String值的一部分。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>substringBeforeLast( /name, &#39; &#39; )</code></td><td>John</td></tr><tr><td><code>substringBeforeLast( /name, &#39;o&#39; )</code></td><td>John D</td></tr><tr><td><code>substringBeforeLast( /name, &#39;&#39; )</code></td><td>John Doe</td></tr><tr><td><code>substringBeforeLast( /name, &#39;xyz&#39; )</code></td><td>John Doe</td></tr></tbody></table><h3 id="replace" tabindex="-1"><a class="header-anchor" href="#replace" aria-hidden="true">#</a> replace</h3><p>用另一个字符串替换所有出现的字符串。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>replace( /name, &#39;o&#39;, &#39;x&#39; )</code></td><td>Jxhn Dxe</td></tr><tr><td><code>replace( /name, &#39;o&#39;, &#39;xyz&#39; )</code></td><td>Jxyzhn Dxyze</td></tr><tr><td><code>replace( /name, &#39;xyz&#39;, &#39;zyx&#39; )</code></td><td>John Doe</td></tr><tr><td><code>replace( /name, &#39;Doe&#39;, /workAddress/city )</code></td><td>John New York</td></tr></tbody></table><h3 id="replaceregex" tabindex="-1"><a class="header-anchor" href="#replaceregex" aria-hidden="true">#</a> replaceRegex</h3><p>根据字符串值的内容评估正则表达式，并将任何匹配项替换为另一个值。此函数需要3个参数：要针对其运行正则表达式的字符串，要运行的正则表达式， 和替换的值。替换值可以选择使用反向引用，例如<code>$1</code>和<code>${named_group}</code>。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>replaceRegex( /name, &#39;o&#39;, &#39;x&#39; )</code></td><td>Jxhn Dxe</td></tr><tr><td><code>replaceRegex( /name, &#39;o&#39;, &#39;xyz&#39; )</code></td><td>Jxyzhn Dxyze</td></tr><tr><td><code>replaceRegex( /name, &#39;xyz&#39;, &#39;zyx&#39; )</code></td><td>John Doe</td></tr><tr><td><code>replaceRegex( /name, &#39;\s+.*&#39;, /workAddress/city )</code></td><td>John New York</td></tr><tr><td><code>replaceRegex(/name, &#39;([JD])&#39;, &#39;$1x&#39;)</code></td><td>Jxohn Dxoe</td></tr><tr><td><code>replaceRegex(/name, &#39;(?&lt;hello&gt;[JD])&#39;, &#39;${hello}x&#39;)</code></td><td>Jxohn Dxoe</td></tr></tbody></table><h3 id="concat" tabindex="-1"><a class="header-anchor" href="#concat" aria-hidden="true">#</a> concat</h3><p>将所有参数串联在一起。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>concat( /name, &#39; lives in &#39;, /homeAddress/city )</code></td><td>John Doe lives in Jersey City</td></tr></tbody></table><h3 id="fieldname" tabindex="-1"><a class="header-anchor" href="#fieldname" aria-hidden="true">#</a> fieldName</h3><p>通常，当为record中的特定字段指定路径时，返回的是该字段的值。它有时对于获取字段名称而不是值很有用。为此，我们可以使用fieldName函数。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>fieldName(//city/..)</code></td><td><code>workAddress</code> and <code>homeAddress</code></td></tr><tr><td><code>//city[not(startsWith(fieldName(..), &#39;work&#39;))]</code></td><td>Jersey City</td></tr></tbody></table><p>在上面的示例中，第一个RecordPath返回两个单独的字段名称：“workAddress”和“homeAddress”。相反，第二个RecordPath返回“city”字段的值，并使用fieldName函数作为谓词。第二个RecordPath查找一个“city”字段，其父级没有以“work”开头的名称。这意味着它将返回父项为“homeAddress”的“city”字段的值，而不返回父项为“ workAddress”的“city”字段的值。</p><h3 id="todate" tabindex="-1"><a class="header-anchor" href="#todate" aria-hidden="true">#</a> toDate</h3><p>将字符串转换为日期。例如，给定一个schema，例如：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eventDate&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;My Event&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eventDate&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2017-10-20T00:00:00Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath会将eventDate字段解析为Date：</p><p><code>toDate( /eventDate, &quot;yyyy-MM-dd’T’HH:mm:ss’Z&#39;&quot;)</code></p><p><code>toDate( /eventDate, &quot;yyyy-MM-dd’T’HH:mm:ss’Z&#39;&quot;, &quot;GMT+8:00&quot;)</code></p><h3 id="tostring" tabindex="-1"><a class="header-anchor" href="#tostring" aria-hidden="true">#</a> toString</h3><p>如果输入类型为“bytes”，则使用给定的字符集将值转换为字符串。例如，给定一个schema，例如：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bytes&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;bytes&quot;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;My Event&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bytes&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Hello World!&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath会将bytes字段解析为String：</p><p><code>toString(/bytes, &quot;UTF-8&quot;)</code></p><h3 id="tobytes" tabindex="-1"><a class="header-anchor" href="#tobytes" aria-hidden="true">#</a> toBytes</h3><p>使用给定的字符集将String转换为byte[]。例如，给定一个schema，例如：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;My Event&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;s&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Hello World!&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath将使用UTF-16编码将String字段转换为字节数组： <code>toBytes( /s, &quot;UTF-16&quot;)</code></p><h3 id="format" tabindex="-1"><a class="header-anchor" href="#format" aria-hidden="true">#</a> format</h3><p>使用给定的时区（可选，默认时区为GMT）将Date转换为给定格式的字符串。</p><p>此函数的第一个参数必须为Date或Number，第二个参数必须为Java SimpleDateFormat后面的格式字符串，第三个参数（可选）必须为缩写形式（例如“PST”）的格式字符串，全名（例如“America/Los_Angeles”）或自定义ID（例如“GMT-8：00”），例如，给定以下schema：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eventDate&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;long&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;logicalType&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;timestamp-millis&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;My Event&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eventDate&quot;</span> <span class="token operator">:</span> <span class="token number">1508457600000</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath表达式会将日期格式设置为字符串：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>format( /eventDate, &quot;yyyy-MM-dd’T’HH:mm:ss’Z&#39;&quot;)</code></td><td>2017-10-20T00:00:00Z</td></tr><tr><td><code>format( /eventDate, &quot;yyyy-MM-dd&quot;)</code></td><td>2017-10-20</td></tr><tr><td><code>format( /eventDate, &quot;yyyy-MM-dd HH:mm:ss Z&quot;, &quot;GMT+8:00&quot;)</code></td><td>2017-10-20 08:00:00 +0800</td></tr><tr><td><code>format( /eventDate, &quot;yyyy-MM-dd&quot;, &quot;GMT+8:00&quot;)</code></td><td>2017-10-20</td></tr></tbody></table><p>在将字段声明为String的情况下，必须在格式化之前调用toDate函数。例如，给定一个schema，例如：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eventDate&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;My Event&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eventDate&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2017-10-20T00:00:00Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath将重新格式化日期字符串：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>format( toDate(/eventDate, &quot;yyyy-MM-dd’T’HH:mm:ss’Z&#39;&quot;), &#39;yyyy-MM-dd&#39;)</code></td><td>2017-10-20</td></tr></tbody></table><h3 id="trim" tabindex="-1"><a class="header-anchor" href="#trim" aria-hidden="true">#</a> trim</h3><p>从字符串的开头和结尾删除空格。</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;    John Smith    &quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath表达式将删除多余的空白：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>trim(/name)</code></td><td>John Smith</td></tr></tbody></table><h3 id="touppercase" tabindex="-1"><a class="header-anchor" href="#touppercase" aria-hidden="true">#</a> toUpperCase</h3><p>将整个字符串改为大写</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fullName&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;fullName&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;john smith&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath表达式将删除多余的空白：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>toUpperCase(/name)</code></td><td>JOHN SMITH</td></tr></tbody></table><h3 id="tolowercase" tabindex="-1"><a class="header-anchor" href="#tolowercase" aria-hidden="true">#</a> toLowerCase</h3><p>Changes the entire string to lower case.</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;hEllO wORLd&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath表达式将删除多余的空白：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>trim(/message)</code></td><td>hello world</td></tr></tbody></table><h3 id="base64encode" tabindex="-1"><a class="header-anchor" href="#base64encode" aria-hidden="true">#</a> base64Encode</h3><p>使用Base64编码，使用UTF-8字符集转换字符串或byte[]。例如，给定一个schema，例如：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;John&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath表达式将使用Base64对字符串进行编码：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>base64Encode(/name)</code></td><td>Sm9obg==</td></tr></tbody></table><h3 id="base64decode" tabindex="-1"><a class="header-anchor" href="#base64decode" aria-hidden="true">#</a> base64Decode</h3><p>解码Base64编码的字符串或byte[]。例如，给定一个schema，例如：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Sm9obg==&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath表达式将使用Base64对字符串进行解码：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>base64Decode(/name)</code></td><td>John</td></tr></tbody></table><h3 id="hash" tabindex="-1"><a class="header-anchor" href="#hash" aria-hidden="true">#</a> hash</h3><p>使用哈希算法转换字符串。例如，给定一个schema，例如：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;John&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面的RecordPath表达式将使用以下<code>[SHA-384，SHA-224，SHA-256，MD2，SHA，SHA-512，MD5]</code>算法之一散列字符串。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>hash(/name, &#39;MD5&#39;)</code></td><td>527bd5b5d689e2c32ae974c6229ff785</td></tr></tbody></table><h3 id="padleft" tabindex="-1"><a class="header-anchor" href="#padleft" aria-hidden="true">#</a> padLeft</h3><p>在输入字符串前面加上字符，直到它达到所需的长度。</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;john smith&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath表达式将在输入字符串前面加上“@”字符：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>padLeft(/name, 15, &#39;@&#39;)</code></td><td>@@@@@john smith</td></tr></tbody></table><h3 id="padright" tabindex="-1"><a class="header-anchor" href="#padright" aria-hidden="true">#</a> padRight</h3><p>向输入字符串追加字符，直到达到所需长度。</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;record&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以及诸如以下的record：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;john smith&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下RecordPath表达式将在输入字符串后附加“@”字符：</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>padRight(/name, 15, &#39;@&#39;)</code></td><td>john smith@@@@@</td></tr></tbody></table><h2 id="filter-functions" tabindex="-1"><a class="header-anchor" href="#filter-functions" aria-hidden="true">#</a> Filter Functions</h2><h3 id="contains" tabindex="-1"><a class="header-anchor" href="#contains" aria-hidden="true">#</a> contains</h3><p>如果字符串值包含提供的子字符串，则返回“true”；否则返回“false”</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>/name[contains(., &#39;o&#39;)]</code></td><td>John Doe</td></tr><tr><td><code>/name[contains(., &#39;x&#39;)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr><tr><td><code>/name[contains( ../workAddress/state, /details/preferredState )]</code></td><td>John Doe</td></tr></tbody></table><h3 id="matchesregex" tabindex="-1"><a class="header-anchor" href="#matchesregex" aria-hidden="true">#</a> matchesRegex</h3><p>根据字符串值的内容计算正则表达式，如果正则表达式与字符串值完全匹配，则返回“true”，否则返回“false”。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>/name[matchesRegex(., &#39;John Doe&#39;)]</code></td><td>John Doe</td></tr><tr><td><code>/name[matchesRegex(., &#39;John&#39;)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr><tr><td><code>/name[matchesRegex(., &#39;.* Doe&#39; )]</code></td><td>John Doe</td></tr></tbody></table><h3 id="startswith" tabindex="-1"><a class="header-anchor" href="#startswith" aria-hidden="true">#</a> startsWith</h3><p>如果字符串值以提供的子字符串开头，则返回“true”；否则返回“false”</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>/name[startsWith(., &#39;J&#39;)]</code></td><td>John Doe</td></tr><tr><td><code>/name[startsWith(., &#39;x&#39;)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr><tr><td><code>/name[startsWith(., &#39;xyz&#39;)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr><tr><td><code>/name[startsWith(., &#39;&#39;)]</code></td><td>John Doe</td></tr></tbody></table><h3 id="endswith" tabindex="-1"><a class="header-anchor" href="#endswith" aria-hidden="true">#</a> endsWith</h3><p>如果字符串值以提供的子字符串结尾，则返回“true”；否则返回“false”</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>/name[endsWith(., &#39;e&#39;)]</code></td><td>John Doe</td></tr><tr><td><code>/name[endsWith(., &#39;x&#39;)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr><tr><td><code>/name[endsWith(., &#39;xyz&#39;)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr><tr><td><code>/name[endsWith(., &#39;&#39;)]</code></td><td>John Doe</td></tr></tbody></table><h3 id="not" tabindex="-1"><a class="header-anchor" href="#not" aria-hidden="true">#</a> not</h3><p>反转传递给“not”函数的函数或表达式的值。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>/name[not(endsWith(., &#39;x&#39;))]</code></td><td>John Doe</td></tr><tr><td><code>/name[not(contains(., &#39;x&#39;))]</code></td><td>John Doe</td></tr><tr><td><code>/name[not(endsWith(., &#39;e&#39;))]</code></td><td><code>&lt;returns no results&gt;</code></td></tr></tbody></table><h3 id="isempty" tabindex="-1"><a class="header-anchor" href="#isempty" aria-hidden="true">#</a> isEmpty</h3><p>如果提供的值为null或为空字符串，则返回“true”。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>/name[isEmpty(/details/employer)]</code></td><td>John Doe</td></tr><tr><td><code>/name[isEmpty(/details/vehicle)]</code></td><td>John Doe</td></tr><tr><td><code>/name[isEmpty(/details/phase)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr><tr><td><code>/name[isEmpty(.)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr></tbody></table><h3 id="isblank" tabindex="-1"><a class="header-anchor" href="#isblank" aria-hidden="true">#</a> isBlank</h3><p>如果提供的值为null或是空字符串或仅由空格（空格、制表符、回车符和换行符）组成的字符串，则返回“true”。</p><table><thead><tr><th>col 1</th><th>col 2</th></tr></thead><tbody><tr><td>RecordPath</td><td>Return value</td></tr><tr><td><code>/name[isBlank(/details/employer)]</code></td><td>John Doe</td></tr><tr><td><code>/name[isBlank(/details/vehicle)]</code></td><td>John Doe</td></tr><tr><td><code>/name[isBlank(/details/phase)]</code></td><td>John Doe</td></tr><tr><td><code>/name[isBlank(.)]</code></td><td><code>&lt;returns no results&gt;</code></td></tr></tbody></table></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: zhangchengk@foxmail.com">zhangcheng</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/4-ExpressionLanguageGuide.html" class="" aria-label="表达式语言指南(Expression Language Guide)"><!--[--><!--]--> 表达式语言指南(Expression Language Guide) <!--[--><!--]--></a></span><span class="next"><a href="/1-%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/6-AdminGuide.html" class="" aria-label="系统管理员指南(1.15.3)"><!--[--><!--]--> 系统管理员指南(1.15.3) <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.9cec2d73.js" defer></script>
  </body>
</html>
